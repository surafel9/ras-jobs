steps:
    # Install dependencies
    - name: 'gcr.io/cloud-builders/npm'
      entrypoint: 'npm'
      args: ['install']
      dir: 'frontend/rasjobs'

    # Build the application
    - name: 'gcr.io/cloud-builders/npm'
      entrypoint: 'npm'
      args: ['run', 'build']
      dir: 'frontend/rasjobs'

    # Deploy to target environment
    - name: 'gcr.io/cloud-builders/gcloud'
      entrypoint: 'gcloud'
      args:
          - 'auth'
          - 'activate-service-account'
          - '--key-file=/workspace/keyfile.json' # Replace with the path to your service account key file
    - name: 'gcr.io/cloud-builders/gcloud'
      entrypoint: 'gsutil'
      args:
          - '-m'
          - 'rsync'
          - '-r'
          - 'frontend/rasjobs/build/'
          - 'gs://example-bucket' # Replace with the target Google Cloud Storage bucket
